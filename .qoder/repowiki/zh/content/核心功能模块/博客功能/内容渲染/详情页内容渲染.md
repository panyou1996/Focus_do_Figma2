# åšå®¢è¯¦æƒ…é¡µå†…å®¹æ¸²æŸ“å®ç°

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx)
- [checkin.ts](file://src/types/checkin.ts)
- [card.tsx](file://src/components/ui/card.tsx)
- [skeleton.tsx](file://src/components/ui/skeleton.tsx)
- [nativeService.ts](file://src/utils/nativeService.ts)
- [blog_view.md](file://src/guidelines/blog_view.md)
- [dataService.tsx](file://src/utils/dataService.tsx)
- [package.json](file://package.json)
</cite>

## ç›®å½•
1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [é¡¹ç›®æ¶æ„åˆ†æ](#é¡¹ç›®æ¶æ„åˆ†æ)
3. [æ ¸å¿ƒç»„ä»¶åˆ†æ](#æ ¸å¿ƒç»„ä»¶åˆ†æ)
4. [å¯Œæ–‡æœ¬å†…å®¹å®‰å…¨æ¸²æŸ“](#å¯Œæ–‡æœ¬å†…å®¹å®‰å…¨æ¸²æŸ“)
5. [ç°ä»£åŒ–å¡ç‰‡å¼å¸ƒå±€è®¾è®¡](#ç°ä»£åŒ–å¡ç‰‡å¼å¸ƒå±€è®¾è®¡)
6. [å†…å®¹ç»“æ„åŒ–æ¸²æŸ“æµç¨‹](#å†…å®¹ç»“æ„åŒ–æ¸²æŸ“æµç¨‹)
7. [æ€§èƒ½ä¼˜åŒ–ä¸ç”¨æˆ·ä½“éªŒ](#æ€§èƒ½ä¼˜åŒ–ä¸ç”¨æˆ·ä½“éªŒ)
8. [é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ](#é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ)
9. [æ€»ç»“](#æ€»ç»“)

## æ¦‚è¿°

BlogDetailPage.tsxæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„åšå®¢è¯¦æƒ…é¡µç»„ä»¶ï¼Œé‡‡ç”¨React + TypeScriptæ„å»ºï¼Œä¸“æ³¨äºæä¾›æµç•…çš„å†…å®¹æ¸²æŸ“ä½“éªŒã€‚è¯¥ç»„ä»¶å®ç°äº†å®Œæ•´çš„åšå®¢å†…å®¹å±•ç¤ºåŠŸèƒ½ï¼ŒåŒ…æ‹¬å¯Œæ–‡æœ¬å®‰å…¨æ¸²æŸ“ã€ç°ä»£åŒ–å¡ç‰‡å¸ƒå±€ã€å“åº”å¼è®¾è®¡ä»¥åŠå®Œå–„çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ã€‚

## é¡¹ç›®æ¶æ„åˆ†æ

```mermaid
graph TB
subgraph "ç»„ä»¶å±‚"
BlogDetailPage[BlogDetailPage.tsx]
Card[Cardç»„ä»¶]
Skeleton[Skeletonç»„ä»¶]
Button[Buttonç»„ä»¶]
end
subgraph "æœåŠ¡å±‚"
NativeService[NativeService]
CheckinService[CheckinService]
DataService[DataService]
end
subgraph "ç±»å‹ç³»ç»Ÿ"
CheckinTypes[Checkinç±»å‹å®šä¹‰]
BlogInterface[Blogæ¥å£]
MoodConfig[Moodé…ç½®]
end
subgraph "æ ·å¼ç³»ç»Ÿ"
TailwindCSS[Tailwind CSS]
FramerMotion[Framer MotionåŠ¨ç”»]
LucideIcons[Lucide Icons]
end
BlogDetailPage --> Card
BlogDetailPage --> Skeleton
BlogDetailPage --> Button
BlogDetailPage --> NativeService
BlogDetailPage --> CheckinService
BlogDetailPage --> DataService
BlogDetailPage --> CheckinTypes
BlogDetailPage --> BlogInterface
BlogDetailPage --> MoodConfig
BlogDetailPage --> TailwindCSS
BlogDetailPage --> FramerMotion
BlogDetailPage --> LucideIcons
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L1-L417)
- [card.tsx](file://src/components/ui/card.tsx#L1-L93)
- [nativeService.ts](file://src/utils/nativeService.ts#L1-L180)

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L1-L417)
- [package.json](file://package.json#L1-L81)

## æ ¸å¿ƒç»„ä»¶åˆ†æ

### BlogDetailPageç»„ä»¶ç»“æ„

BlogDetailPageç»„ä»¶é‡‡ç”¨äº†æ¨¡å—åŒ–çš„æ¶æ„è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š

```typescript
// ç»„ä»¶å±æ€§æ¥å£å®šä¹‰
interface BlogDetailPageProps {
  blog: CheckinBlog;
  onClose: () => void;
  onEdit: (blog: CheckinBlog) => void;
  onDelete: (blogId: number | string) => void;
  onLike: (blogId: number | string) => void;
  checkinRecords?: CheckinRecord[];
}

// çŠ¶æ€ç®¡ç†
const [isLiking, setIsLiking] = useState(false);
const [showMore, setShowMore] = useState(false);
const [relatedRecords, setRelatedRecords] = useState<CheckinRecord[]>([]);
```

### ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†

```mermaid
sequenceDiagram
participant Component as BlogDetailPage
participant Effect as useEffect Hook
participant Service as CheckinService
participant Native as NativeService
Component->>Effect : ç»„ä»¶æŒ‚è½½
Effect->>Service : incrementViewCount()
Service-->>Effect : æ›´æ–°æµè§ˆé‡
Effect->>Service : loadRelatedRecords()
Service-->>Effect : åŠ è½½å…³è”è®°å½•
Effect->>Native : hapticLight()
Native-->>Effect : è§¦è§‰åé¦ˆ
Note over Component,Native : ç”¨æˆ·äº¤äº’äº‹ä»¶
Component->>Component : handleLike()
Component->>Component : handleShare()
Component->>Component : formatDate()
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L35-L85)

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L15-L85)

## å¯Œæ–‡æœ¬å†…å®¹å®‰å…¨æ¸²æŸ“

### Markdownè¯­æ³•è§£ææ–¹æ¡ˆ

BlogDetailPageé‡‡ç”¨äº†è½»é‡çº§çš„Markdownè¯­æ³•è§£ææ–¹æ¡ˆï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å®ç°åŸºæœ¬çš„æ ¼å¼è½¬æ¢ï¼š

```typescript
const formatContent = (content: string) => {
  // ç²—ä½“æ–‡æœ¬å¤„ç†
  return content
    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
    // æ–œä½“æ–‡æœ¬å¤„ç†
    .replace(/\*(.*?)\*/g, '<em>$1</em>')
    // æ¢è¡Œç¬¦å¤„ç†
    .replace(/\n/g, '<br>');
};
```

### HTMLè½¬ä¹‰å¤„ç†ä¸XSSé˜²æŠ¤

ç»„ä»¶ä½¿ç”¨äº†Reactçš„`dangerouslySetInnerHTML`ç‰¹æ€§è¿›è¡Œå†…å®¹æ¸²æŸ“ï¼ŒåŒæ—¶å®æ–½äº†å¤šé‡å®‰å…¨é˜²æŠ¤æªæ–½ï¼š

```typescript
// å†…å®¹é¢„è§ˆ - æˆªæ–­å¤„ç†
<div 
  className="text-base text-[#757575] leading-relaxed mb-6"
  dangerouslySetInnerHTML={{ 
    __html: formatContent(blog.content.substring(0, 200) + '...') 
  }}
/>

// å®Œæ•´å†…å®¹æ¸²æŸ“
<div 
  className="prose prose-gray max-w-none text-gray-700 leading-relaxed"
  dangerouslySetInnerHTML={{ 
    __html: formatContent(blog.content) 
  }}
/>
```

### å®‰å…¨æ¸²æŸ“æµç¨‹

```mermaid
flowchart TD
Start([æ¥æ”¶åŸå§‹Markdownå†…å®¹]) --> ValidateInput["éªŒè¯è¾“å…¥å†…å®¹"]
ValidateInput --> TruncateContent["æˆªæ–­å†…å®¹é¢„è§ˆ"]
TruncateContent --> FormatBold["å¤„ç†ç²—ä½“è¯­æ³•"]
FormatBold --> FormatItalic["å¤„ç†æ–œä½“è¯­æ³•"]
FormatItalic --> FormatNewline["å¤„ç†æ¢è¡Œç¬¦"]
FormatNewline --> SanitizeOutput["HTMLè½¬ä¹‰å¤„ç†"]
SanitizeOutput --> RenderPreview["æ¸²æŸ“é¢„è§ˆå†…å®¹"]
ValidateInput --> FullFormat["å®Œæ•´æ ¼å¼åŒ–"]
FullFormat --> SanitizeFull["å®Œæ•´HTMLè½¬ä¹‰"]
SanitizeFull --> RenderFull["æ¸²æŸ“å®Œæ•´å†…å®¹"]
RenderPreview --> SafetyCheck["å®‰å…¨æ£€æŸ¥"]
RenderFull --> SafetyCheck
SafetyCheck --> End([æ¸²æŸ“å®Œæˆ])
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L87-L92)

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L87-L92)

## ç°ä»£åŒ–å¡ç‰‡å¼å¸ƒå±€è®¾è®¡

### è®¾è®¡è§„èŒƒéµå¾ª

æ ¹æ®`blog_view.md`è®¾è®¡æŒ‡å—ï¼Œç»„ä»¶ä¸¥æ ¼éµå¾ªç°ä»£UIè®¾è®¡åŸåˆ™ï¼š

```typescript
// å¡ç‰‡å®¹å™¨æ ·å¼
className="bg-white rounded-[28px] p-6 shadow-[0_12px_24px_-4px_rgba(0,0,0,0.1)] mb-6"

// æ ‡é¢˜æ ·å¼
<h1 className="text-2xl font-bold text-[#333333] mb-4 leading-tight">

// æ–‡æœ¬å†…å®¹æ ·å¼
<div className="text-base text-[#757575] leading-relaxed mb-6"
```

### å¸ƒå±€å±‚æ¬¡ç»“æ„

```mermaid
graph TB
subgraph "åšå®¢å¡ç‰‡å®¹å™¨"
Header[å¤´éƒ¨åŒºåŸŸ<br/>æ ‡ç­¾ + æ—¥æœŸ]
Title[æ ‡é¢˜åŒºåŸŸ<br/>åšå®¢æ ‡é¢˜]
Preview[é¢„è§ˆå†…å®¹<br/>æˆªæ–­å†…å®¹]
Image[å°é¢å›¾<br/>Hero Image]
FullContent[å®Œæ•´å†…å®¹<br/>Proseæ ·å¼]
Metadata[å…ƒæ•°æ®<br/>è¯¦ç»†ä¿¡æ¯]
Related[å…³è”è®°å½•<br/>æ‰“å¡è®°å½•]
Actions[æ“ä½œæ <br/>ç‚¹èµ + æµè§ˆ]
end
Header --> Title
Title --> Preview
Preview --> Image
Image --> FullContent
FullContent --> Metadata
Metadata --> Related
Related --> Actions
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L100-L300)

### å…ƒæ•°æ®æ ¼å¼åŒ–å±•ç¤º

ç»„ä»¶å®ç°äº†å®Œæ•´çš„å…ƒæ•°æ®æ˜¾ç¤ºé€»è¾‘ï¼š

```typescript
// æ—¥æœŸæ ¼å¼åŒ–
const formatDate = (date: Date) => {
  const month = date.toLocaleDateString('en-US', { month: 'short' }).toUpperCase();
  const day = date.getDate();
  return { month, day };
};

// å¤©æ°”å›¾æ ‡æ˜ å°„
weatherIcons = {
  sunny: 'â˜€ï¸', cloudy: 'â˜ï¸', rainy: 'ğŸŒ§ï¸',
  snowy: 'â„ï¸', windy: 'ğŸ’¨', foggy: 'ğŸŒ«ï¸'
};
```

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L94-L120)
- [blog_view.md](file://src/guidelines/blog_view.md#L1-L88)

## å†…å®¹ç»“æ„åŒ–æ¸²æŸ“æµç¨‹

### æ®µè½ä¸æ–‡æœ¬å¤„ç†

```mermaid
classDiagram
class ContentRenderer {
+formatContent(content : string) string
+renderParagraph(text : string) JSX.Element
+renderBold(text : string) JSX.Element
+renderItalic(text : string) JSX.Element
+renderNewline() JSX.Element
}
class BlogContent {
+title : string
+content : string
+cover_image_url? : string
+location? : string
+tags : string[]
+mood : CheckinMood
+weather? : string
}
class ProseStyles {
+prose prose-gray max-w-none
+text-gray-700 leading-relaxed
+prose-headings : font-bold
+prose-links : text-blue-600
}
ContentRenderer --> BlogContent : "å¤„ç†"
ContentRenderer --> ProseStyles : "åº”ç”¨"
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L87-L92)

### å¼•ç”¨ä¸ä»£ç å—å¤„ç†

è™½ç„¶å½“å‰å®ç°ä½¿ç”¨ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å¤„ç†ï¼Œä½†ç»„ä»¶æ¶æ„æ”¯æŒæ‰©å±•ï¼š

```typescript
// å½“å‰å®ç°çš„Markdownå¤„ç†
const formatContent = (content: string) => {
  return content
    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')  // ç²—ä½“
    .replace(/\*(.*?)\*/g, '<em>$1</em>')            // æ–œä½“
    .replace(/\n/g, '<br>');                         // æ¢è¡Œ
};

// æ¨èçš„æ‰©å±•æ–¹æ¡ˆï¼ˆæœªæ¥å¯é€‰ï¼‰
/*
const remarkPlugins = [
  remarkGfm,
  remarkMath,
  rehypeHighlight,
  remarkSlug,
  remarkToc
];
*/
```

### å›¾ç‰‡ä¸åª’ä½“å¤„ç†

```typescript
// å°é¢å›¾æ¸²æŸ“
{blog.cover_image_url && (
  <div className="relative rounded-[20px] overflow-hidden mb-4">
    <img 
      src={blog.cover_image_url} 
      alt={blog.title}
      className="w-full h-64 object-cover"
    />
    
    {/* å›¾åƒè¦†ç›–å±‚ - ä½ç½®ä¿¡æ¯ */}
    {blog.location && (
      <div className="absolute bottom-4 left-4 text-white">
        <div className="flex items-start gap-2">
          <MapPin className="h-4 w-4 mt-1 text-white" 
                 style={{ textShadow: '0 1px 3px rgba(0, 0, 0, 0.3)' }} />
          <div style={{ textShadow: '0 1px 3px rgba(0, 0, 0, 0.3)' }}>
            <div className="font-medium text-sm">
              {blog.location.split(',')[0] || blog.location}
            </div>
            {blog.location.includes(',') && (
              <div className="text-xs opacity-90">
                {blog.location.split(',').slice(1).join(',').trim()}
              </div>
            )}
          </div>
        </div>
      </div>
    )}
  </div>
)}
```

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L150-L180)

## æ€§èƒ½ä¼˜åŒ–ä¸ç”¨æˆ·ä½“éªŒ

### éª¨æ¶å±ï¼ˆSkeletonï¼‰ä½¿ç”¨æ–¹æ¡ˆ

ç»„ä»¶é›†æˆäº†Tailwind CSSçš„éª¨æ¶å±ç»„ä»¶ï¼Œæä¾›æµç•…çš„åŠ è½½ä½“éªŒï¼š

```typescript
// éª¨æ¶å±ç»„ä»¶å¯¼å…¥
import { Skeleton } from "./ui/skeleton";

// éª¨æ¶å±æ ·å¼
function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  );
}
```

### åŠ¨ç”»ä¸è¿‡æ¸¡æ•ˆæœ

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·
participant Page as é¡µé¢
participant Animation as åŠ¨ç”»ç³»ç»Ÿ
participant Native as åŸç”ŸæœåŠ¡
User->>Page : æ‰“å¼€åšå®¢è¯¦æƒ…é¡µ
Page->>Animation : è§¦å‘è¿›å…¥åŠ¨ç”»
Animation->>Animation : springåŠ¨ç”»æ•ˆæœ
Animation-->>Page : åŠ¨ç”»å®Œæˆ
Page->>Native : è§¦è§‰åé¦ˆ(haptic)
Native-->>User : è½»è§¦åé¦ˆ
User->>Page : ç‚¹å‡»åˆ†äº«æŒ‰é’®
Page->>Native : è§¦è§‰åé¦ˆ
Native-->>User : ä¸­ç­‰åŠ›åº¦åé¦ˆ
Page->>Page : åˆ†äº«æ“ä½œ
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L95-L105)
- [nativeService.ts](file://src/utils/nativeService.ts#L10-L25)

### å“åº”å¼å¤„ç†ç­–ç•¥

ç»„ä»¶é‡‡ç”¨Tailwind CSSçš„å“åº”å¼è®¾è®¡ç³»ç»Ÿï¼š

```typescript
// å“åº”å¼å¸ƒå±€ç±»å
className="max-w-2xl mx-auto p-6"
className="flex-1 overflow-y-auto"
className="bg-white rounded-xl p-6 shadow-sm mb-6"
```

### æ€§èƒ½ç›‘æ§å»ºè®®

```typescript
// æ€§èƒ½ç›‘æ§å®ç°å»ºè®®
const measureRenderPerformance = () => {
  const observer = new PerformanceObserver((list) => {
    list.getEntries().forEach((entry) => {
      if (entry.name.includes('BlogDetailPage')) {
        console.log('æ¸²æŸ“æ€§èƒ½:', entry.duration, 'ms');
      }
    });
  });
  
  observer.observe({ entryTypes: ['measure'] });
};
```

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L95-L105)
- [skeleton.tsx](file://src/components/ui/skeleton.tsx#L1-L14)

## é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ

### é”™è¯¯è¾¹ç•Œå¤„ç†ç­–ç•¥

```mermaid
flowchart TD
Start([ç»„ä»¶æ¸²æŸ“å¼€å§‹]) --> TryBlock["try { æ¸²æŸ“å†…å®¹ }"]
TryBlock --> Success["æ¸²æŸ“æˆåŠŸ"]
Success --> End([æ¸²æŸ“å®Œæˆ])
TryBlock --> CatchError["catch { é”™è¯¯å¤„ç† }"]
CatchError --> LogError["è®°å½•é”™è¯¯æ—¥å¿—"]
LogError --> ShowFallback["æ˜¾ç¤ºé™çº§ç•Œé¢"]
ShowFallback --> End
TryBlock --> NetworkError["ç½‘ç»œé”™è¯¯"]
NetworkError --> OfflineMode["ç¦»çº¿æ¨¡å¼å¤„ç†"]
OfflineMode --> LoadCache["åŠ è½½ç¼“å­˜æ•°æ®"]
LoadCache --> End
```

**å›¾è¡¨æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L40-L50)

### æ•°æ®éªŒè¯ä¸é»˜è®¤å€¼å¤„ç†

```typescript
// å®Œæ•´çš„æ•°æ®éªŒè¯é€»è¾‘
const loadRelatedRecords = async () => {
  if (blog.checkin_records.length > 0) {
    try {
      const records = checkinRecords.filter(record => 
        blog.checkin_records.includes(Number(record.id))
      );
      setRelatedRecords(records);
    } catch (error) {
      console.error('Failed to load related records:', error);
    }
  }
};

// å®‰å…¨çš„é»˜è®¤å€¼å¤„ç†
const formatDate = (date: Date) => {
  const month = date.toLocaleDateString('en-US', { month: 'short' }).toUpperCase();
  const day = date.getDate();
  return { month, day };
};
```

### ç½‘ç»œå¼‚å¸¸å¤„ç†

```typescript
// ç½‘ç»œè¯·æ±‚é”™è¯¯å¤„ç†
const incrementViewCount = async () => {
  try {
    await checkinService.getBlogById(blog.id);
  } catch (error) {
    console.error('Failed to increment view count:', error);
    // åœ¨ç¦»çº¿æƒ…å†µä¸‹ç»§ç»­è¿è¡Œ
  }
};
```

**ç« èŠ‚æ¥æº**
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L40-L50)
- [BlogDetailPage.tsx](file://src/components/BlogDetailPage.tsx#L94-L98)

## æ€»ç»“

BlogDetailPage.tsxå±•ç°äº†ç°ä»£Webåº”ç”¨å¼€å‘çš„æœ€ä½³å®è·µï¼Œé€šè¿‡ä»¥ä¸‹å…³é”®ç‰¹æ€§æä¾›äº†å“è¶Šçš„ç”¨æˆ·ä½“éªŒï¼š

### æŠ€æœ¯äº®ç‚¹

1. **å®‰å…¨çš„å†…å®¹æ¸²æŸ“**ï¼šé‡‡ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤„ç†Markdownè¯­æ³•ï¼Œåœ¨ä¿è¯åŠŸèƒ½çš„åŒæ—¶ç¡®ä¿å®‰å…¨æ€§
2. **ç°ä»£åŒ–çš„UIè®¾è®¡**ï¼šä¸¥æ ¼éµå¾ªè®¾è®¡æŒ‡å—ï¼Œå®ç°ç²¾è‡´çš„è§†è§‰æ•ˆæœ
3. **å“åº”å¼æ€§èƒ½ä¼˜åŒ–**ï¼šé›†æˆéª¨æ¶å±å’ŒåŠ¨ç”»ç³»ç»Ÿï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒ
4. **å®Œå–„çš„é”™è¯¯å¤„ç†**ï¼šå¤šå±‚æ¬¡çš„é”™è¯¯è¾¹ç•Œå’Œé™çº§ç­–ç•¥
5. **è·¨å¹³å°å…¼å®¹æ€§**ï¼šæ”¯æŒWebå’Œç§»åŠ¨ç«¯çš„åŸç”ŸæœåŠ¡é›†æˆ

### æ¶æ„ä¼˜åŠ¿

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„ç»„ä»¶èŒè´£åˆ†ç¦»
- **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- **å¯æ‰©å±•æ€§**ï¼šé¢„ç•™æ‰©å±•ç‚¹æ”¯æŒæ›´å¤æ‚çš„Markdownå¤„ç†
- **æ€§èƒ½å‹å¥½**ï¼šåˆç†çš„æ¸²æŸ“ç­–ç•¥å’Œç¼“å­˜æœºåˆ¶

### æ”¹è¿›å»ºè®®

1. **å¼•å…¥ä¸“ä¸šçš„Markdownè§£æåº“**ï¼šè€ƒè™‘ä½¿ç”¨`remark`æˆ–`markdown-it`æ›¿ä»£å½“å‰çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹æ¡ˆ
2. **å¢å¼ºXSSé˜²æŠ¤**ï¼šé›†æˆDOMPurifyç­‰åº“è¿›è¡Œæ›´ä¸¥æ ¼çš„HTMLæ¸…ç†
3. **æ€§èƒ½ç›‘æ§**ï¼šæ·»åŠ è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡æ”¶é›†å’Œåˆ†æ
4. **å›½é™…åŒ–æ”¯æŒ**ï¼šæ‰©å±•å¤šè¯­è¨€å†…å®¹æ¸²æŸ“èƒ½åŠ›

è¿™ä¸ªç»„ä»¶ä¸ºåšå®¢å†…å®¹å±•ç¤ºæä¾›äº†ä¸€ä¸ªåšå®çš„åŸºç¡€ï¼Œæ—¢æ»¡è¶³äº†å½“å‰çš„åŠŸèƒ½éœ€æ±‚ï¼Œä¹Ÿä¸ºæœªæ¥çš„æ‰©å±•å’Œä¼˜åŒ–é¢„ç•™äº†å……è¶³çš„ç©ºé—´ã€‚